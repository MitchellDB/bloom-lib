#ifdef GL_ES
#define LOWP lowp
#define MED mediump
precision mediump float;
#else
#define LOWP 
#define MED 
#endif

uniform LOWP sampler2D u_texture;
varying LOWP vec4 v_color;
varying MED vec2 v_texCoords;
uniform MED mat4 u_projectionViewMatrix;
void main()
{  
  vec4 c = v_color * texture2D(u_texture, v_texCoords);
  float col = (0.2989 * c.r + 0.5870 * c.g + 0.1140 * c.b);
  col = (col < 0.25 || col > 0.75) ? 0.0 :  1.0;  
  gl_FragColor = vec4(col, col, col, c.a);

}
